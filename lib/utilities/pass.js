"use strict";
Object.defineProperty(exports, "__esModule", {
    value: true
});
function _export(target, all) {
    for(var name in all)Object.defineProperty(target, name, {
        enumerable: true,
        get: Object.getOwnPropertyDescriptor(all, name).get
    });
}
_export(exports, {
    get areTerminalNodeMapsEqual () {
        return areTerminalNodeMapsEqual;
    },
    get isLastRemainingArgumentFunction () {
        return isLastRemainingArgumentFunction;
    },
    get terminalNodeMapFromNodes () {
        return terminalNodeMapFromNodes;
    }
});
var _necessary = require("necessary");
var _constants = require("../constants");
function _type_of(obj) {
    "@swc/helpers - typeof";
    return obj && typeof Symbol !== "undefined" && obj.constructor === Symbol ? "symbol" : typeof obj;
}
var match = _necessary.arrayUtilities.match, last = _necessary.arrayUtilities.last;
function terminalNodeMapFromNodes(nodes) {
    var terminalNodeMap = {};
    nodes.forEach(function(node, index) {
        var nodeTerminalNode = node.isTerminalNode();
        if (nodeTerminalNode) {
            var terminalNode = node; //
            terminalNodeMap[index] = terminalNode;
        }
    });
    return terminalNodeMap;
}
function areTerminalNodeMapsEqual(generalTerminalNodeMap, specificTerminalNodeMap) {
    var terminalNodeMapsEqual = false;
    var generalIndexes = Object.keys(generalTerminalNodeMap), specificIndexes = Object.keys(specificTerminalNodeMap), terminalNodeMapKeysMatch = match(generalIndexes, specificIndexes, function(generalIndex, specificIndex) {
        if (generalIndex === specificIndex) {
            return true;
        }
    });
    if (terminalNodeMapKeysMatch) {
        var generalTerminalNodes = Object.values(generalTerminalNodeMap), specificTerminalNodes = Object.values(specificTerminalNodeMap), terminalNodeMapValuesMatch = match(generalTerminalNodes, specificTerminalNodes, function(generalTerminalNode, specificTerminalNode) {
            var generalTerminalNodeMatchesSpecificTerminalNode = generalTerminalNode.match(specificTerminalNode);
            if (generalTerminalNodeMatchesSpecificTerminalNode) {
                return true;
            }
        });
        terminalNodeMapsEqual = terminalNodeMapValuesMatch; ///
    }
    return terminalNodeMapsEqual;
}
function isLastRemainingArgumentFunction(remainingArguments) {
    var lastRemainingArgumentFunction = false;
    var remainingArgumentsLength = remainingArguments.length;
    if (remainingArgumentsLength > 0) {
        var lastRemainingArgument = last(remainingArguments);
        lastRemainingArgumentFunction = (typeof lastRemainingArgument === "undefined" ? "undefined" : _type_of(lastRemainingArgument)) === _constants.FUNCTION;
    }
    return lastRemainingArgumentFunction;
}

//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi4uLy4uL3NyYy91dGlsaXRpZXMvcGFzcy5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyJcInVzZSBzdHJpY3RcIjtcblxuaW1wb3J0IHsgYXJyYXlVdGlsaXRpZXMgfSBmcm9tIFwibmVjZXNzYXJ5XCI7XG5cbmltcG9ydCB7IEZVTkNUSU9OIH0gZnJvbSBcIi4uL2NvbnN0YW50c1wiO1xuXG5jb25zdCB7IG1hdGNoLCBsYXN0IH0gPSBhcnJheVV0aWxpdGllcztcblxuZXhwb3J0IGZ1bmN0aW9uIHRlcm1pbmFsTm9kZU1hcEZyb21Ob2Rlcyhub2Rlcykge1xuICBjb25zdCB0ZXJtaW5hbE5vZGVNYXAgPSB7fTtcblxuICBub2Rlcy5mb3JFYWNoKChub2RlLCBpbmRleCkgPT4ge1xuICAgIGNvbnN0IG5vZGVUZXJtaW5hbE5vZGUgPSBub2RlLmlzVGVybWluYWxOb2RlKCk7XG5cbiAgICBpZiAobm9kZVRlcm1pbmFsTm9kZSkge1xuICAgICAgY29uc3QgdGVybWluYWxOb2RlID0gbm9kZTsgIC8vXG5cbiAgICAgIHRlcm1pbmFsTm9kZU1hcFtpbmRleF0gPSB0ZXJtaW5hbE5vZGU7XG4gICAgfVxuICB9KTtcblxuICByZXR1cm4gdGVybWluYWxOb2RlTWFwO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gYXJlVGVybWluYWxOb2RlTWFwc0VxdWFsKGdlbmVyYWxUZXJtaW5hbE5vZGVNYXAsIHNwZWNpZmljVGVybWluYWxOb2RlTWFwKSB7XG4gIGxldCB0ZXJtaW5hbE5vZGVNYXBzRXF1YWwgPSBmYWxzZTtcblxuICBjb25zdCBnZW5lcmFsSW5kZXhlcyA9IE9iamVjdC5rZXlzKGdlbmVyYWxUZXJtaW5hbE5vZGVNYXApLCAvLy9cbiAgICAgICAgc3BlY2lmaWNJbmRleGVzID0gT2JqZWN0LmtleXMoc3BlY2lmaWNUZXJtaW5hbE5vZGVNYXApLCAvLy9cbiAgICAgICAgdGVybWluYWxOb2RlTWFwS2V5c01hdGNoID0gbWF0Y2goZ2VuZXJhbEluZGV4ZXMsIHNwZWNpZmljSW5kZXhlcywgKGdlbmVyYWxJbmRleCwgc3BlY2lmaWNJbmRleCkgPT4ge1xuICAgICAgICAgIGlmIChnZW5lcmFsSW5kZXggPT09IHNwZWNpZmljSW5kZXgpIHtcbiAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICAgIH1cbiAgICAgICAgfSk7XG5cbiAgaWYgKHRlcm1pbmFsTm9kZU1hcEtleXNNYXRjaCkge1xuICAgIGNvbnN0IGdlbmVyYWxUZXJtaW5hbE5vZGVzID0gT2JqZWN0LnZhbHVlcyhnZW5lcmFsVGVybWluYWxOb2RlTWFwKSwgLy8vXG4gICAgICAgICAgc3BlY2lmaWNUZXJtaW5hbE5vZGVzID0gT2JqZWN0LnZhbHVlcyhzcGVjaWZpY1Rlcm1pbmFsTm9kZU1hcCksIC8vL1xuICAgICAgICAgIHRlcm1pbmFsTm9kZU1hcFZhbHVlc01hdGNoID0gbWF0Y2goZ2VuZXJhbFRlcm1pbmFsTm9kZXMsIHNwZWNpZmljVGVybWluYWxOb2RlcywgKGdlbmVyYWxUZXJtaW5hbE5vZGUsIHNwZWNpZmljVGVybWluYWxOb2RlKSA9PiB7XG4gICAgICAgICAgICBjb25zdCBnZW5lcmFsVGVybWluYWxOb2RlTWF0Y2hlc1NwZWNpZmljVGVybWluYWxOb2RlID0gZ2VuZXJhbFRlcm1pbmFsTm9kZS5tYXRjaChzcGVjaWZpY1Rlcm1pbmFsTm9kZSk7XG5cbiAgICAgICAgICAgIGlmIChnZW5lcmFsVGVybWluYWxOb2RlTWF0Y2hlc1NwZWNpZmljVGVybWluYWxOb2RlKSB7XG4gICAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH0pO1xuXG4gICAgdGVybWluYWxOb2RlTWFwc0VxdWFsID0gdGVybWluYWxOb2RlTWFwVmFsdWVzTWF0Y2g7IC8vL1xuICB9XG5cbiAgcmV0dXJuIHRlcm1pbmFsTm9kZU1hcHNFcXVhbDtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGlzTGFzdFJlbWFpbmluZ0FyZ3VtZW50RnVuY3Rpb24ocmVtYWluaW5nQXJndW1lbnRzKSB7XG4gIGxldCBsYXN0UmVtYWluaW5nQXJndW1lbnRGdW5jdGlvbiA9IGZhbHNlO1xuXG4gIGNvbnN0IHJlbWFpbmluZ0FyZ3VtZW50c0xlbmd0aCA9IHJlbWFpbmluZ0FyZ3VtZW50cy5sZW5ndGg7XG5cbiAgaWYgKHJlbWFpbmluZ0FyZ3VtZW50c0xlbmd0aCA+IDApIHtcbiAgICBjb25zdCBsYXN0UmVtYWluaW5nQXJndW1lbnQgPSBsYXN0KHJlbWFpbmluZ0FyZ3VtZW50cyk7XG5cbiAgICBsYXN0UmVtYWluaW5nQXJndW1lbnRGdW5jdGlvbiA9ICh0eXBlb2YgbGFzdFJlbWFpbmluZ0FyZ3VtZW50ID09PSBGVU5DVElPTik7XG4gIH1cblxuICByZXR1cm4gbGFzdFJlbWFpbmluZ0FyZ3VtZW50RnVuY3Rpb247XG59XG4iXSwibmFtZXMiOlsiYXJlVGVybWluYWxOb2RlTWFwc0VxdWFsIiwiaXNMYXN0UmVtYWluaW5nQXJndW1lbnRGdW5jdGlvbiIsInRlcm1pbmFsTm9kZU1hcEZyb21Ob2RlcyIsIm1hdGNoIiwiYXJyYXlVdGlsaXRpZXMiLCJsYXN0Iiwibm9kZXMiLCJ0ZXJtaW5hbE5vZGVNYXAiLCJmb3JFYWNoIiwibm9kZSIsImluZGV4Iiwibm9kZVRlcm1pbmFsTm9kZSIsImlzVGVybWluYWxOb2RlIiwidGVybWluYWxOb2RlIiwiZ2VuZXJhbFRlcm1pbmFsTm9kZU1hcCIsInNwZWNpZmljVGVybWluYWxOb2RlTWFwIiwidGVybWluYWxOb2RlTWFwc0VxdWFsIiwiZ2VuZXJhbEluZGV4ZXMiLCJPYmplY3QiLCJrZXlzIiwic3BlY2lmaWNJbmRleGVzIiwidGVybWluYWxOb2RlTWFwS2V5c01hdGNoIiwiZ2VuZXJhbEluZGV4Iiwic3BlY2lmaWNJbmRleCIsImdlbmVyYWxUZXJtaW5hbE5vZGVzIiwidmFsdWVzIiwic3BlY2lmaWNUZXJtaW5hbE5vZGVzIiwidGVybWluYWxOb2RlTWFwVmFsdWVzTWF0Y2giLCJnZW5lcmFsVGVybWluYWxOb2RlIiwic3BlY2lmaWNUZXJtaW5hbE5vZGUiLCJnZW5lcmFsVGVybWluYWxOb2RlTWF0Y2hlc1NwZWNpZmljVGVybWluYWxOb2RlIiwicmVtYWluaW5nQXJndW1lbnRzIiwibGFzdFJlbWFpbmluZ0FyZ3VtZW50RnVuY3Rpb24iLCJyZW1haW5pbmdBcmd1bWVudHNMZW5ndGgiLCJsZW5ndGgiLCJsYXN0UmVtYWluaW5nQXJndW1lbnQiLCJGVU5DVElPTiJdLCJtYXBwaW5ncyI6IkFBQUE7Ozs7Ozs7Ozs7O1FBd0JnQkE7ZUFBQUE7O1FBNEJBQztlQUFBQTs7UUE1Q0FDO2VBQUFBOzs7eUJBTmU7eUJBRU47Ozs7O0FBRXpCLElBQVFDLFFBQWdCQyx5QkFBYyxDQUE5QkQsT0FBT0UsT0FBU0QseUJBQWMsQ0FBdkJDO0FBRVIsU0FBU0gseUJBQXlCSSxLQUFLO0lBQzVDLElBQU1DLGtCQUFrQixDQUFDO0lBRXpCRCxNQUFNRSxPQUFPLENBQUMsU0FBQ0MsTUFBTUM7UUFDbkIsSUFBTUMsbUJBQW1CRixLQUFLRyxjQUFjO1FBRTVDLElBQUlELGtCQUFrQjtZQUNwQixJQUFNRSxlQUFlSixNQUFPLEVBQUU7WUFFOUJGLGVBQWUsQ0FBQ0csTUFBTSxHQUFHRztRQUMzQjtJQUNGO0lBRUEsT0FBT047QUFDVDtBQUVPLFNBQVNQLHlCQUF5QmMsc0JBQXNCLEVBQUVDLHVCQUF1QjtJQUN0RixJQUFJQyx3QkFBd0I7SUFFNUIsSUFBTUMsaUJBQWlCQyxPQUFPQyxJQUFJLENBQUNMLHlCQUM3Qk0sa0JBQWtCRixPQUFPQyxJQUFJLENBQUNKLDBCQUM5Qk0sMkJBQTJCbEIsTUFBTWMsZ0JBQWdCRyxpQkFBaUIsU0FBQ0UsY0FBY0M7UUFDL0UsSUFBSUQsaUJBQWlCQyxlQUFlO1lBQ2xDLE9BQU87UUFDVDtJQUNGO0lBRU4sSUFBSUYsMEJBQTBCO1FBQzVCLElBQU1HLHVCQUF1Qk4sT0FBT08sTUFBTSxDQUFDWCx5QkFDckNZLHdCQUF3QlIsT0FBT08sTUFBTSxDQUFDViwwQkFDdENZLDZCQUE2QnhCLE1BQU1xQixzQkFBc0JFLHVCQUF1QixTQUFDRSxxQkFBcUJDO1lBQ3BHLElBQU1DLGlEQUFpREYsb0JBQW9CekIsS0FBSyxDQUFDMEI7WUFFakYsSUFBSUMsZ0RBQWdEO2dCQUNsRCxPQUFPO1lBQ1Q7UUFDRjtRQUVOZCx3QkFBd0JXLDRCQUE0QixHQUFHO0lBQ3pEO0lBRUEsT0FBT1g7QUFDVDtBQUVPLFNBQVNmLGdDQUFnQzhCLGtCQUFrQjtJQUNoRSxJQUFJQyxnQ0FBZ0M7SUFFcEMsSUFBTUMsMkJBQTJCRixtQkFBbUJHLE1BQU07SUFFMUQsSUFBSUQsMkJBQTJCLEdBQUc7UUFDaEMsSUFBTUUsd0JBQXdCOUIsS0FBSzBCO1FBRW5DQyxnQ0FBaUMsQ0FBQSxPQUFPRyxzREFBUCxTQUFPQSxzQkFBb0IsTUFBTUMsbUJBQVE7SUFDNUU7SUFFQSxPQUFPSjtBQUNUIn0=